{"ast":null,"code":"import { LOGIN_FAILED, LOGIN_REQUEST, LOGIN_SUCCESS, REGISTER_FAILED, REGISTER_REQUEST, REGISTER_SUCCESS } from \"../Actions/Types\";\nconst init = {\n  isAuth: false,\n  token: localStorage.getItem('token') || null,\n  loading: false,\n  userInfo: JSON.parse(localStorage.getItem('userInfo')) || {},\n  errors: null\n};\nconst AutoReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : init;\n  let {\n    Type,\n    payload\n  } = arguments.length > 1 ? arguments[1] : undefined;\n  switch (Type) {\n    case LOGIN_REQUEST:\n      return {\n        ...state,\n        loading: true\n      };\n    case LOGIN_SUCCESS:\n      localStorage.setItem('token,payload.token');\n      localStorage.setItem('userInfo', JSON.stringify(payload.user));\n      return {\n        ...state,\n        loading: false,\n        isAuth: true,\n        token: payload.token,\n        errors: null\n      };\n    case LOGIN_FAILED:\n      return {\n        ...state,\n        loading: false,\n        isAuth: false,\n        token: null.token,\n        errors: payload\n      };\n    case REGISTER_REQUEST:\n      return {\n        ...state,\n        loading: true\n      };\n    case REGISTER_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        isAuth: false,\n        token: payload.token,\n        errors: null,\n        userInfo: payload.user\n      };\n    case REGISTER_FAILED:\n      return {\n        ...state,\n        loading: false,\n        isAuth: false,\n        token: null.token,\n        errors: payload\n      };\n    default:\n      return state;\n  }\n};\n_c = AutoReducer;\nexport default AutoReducer;\nvar _c;\n$RefreshReg$(_c, \"AutoReducer\");","map":{"version":3,"names":["LOGIN_FAILED","LOGIN_REQUEST","LOGIN_SUCCESS","REGISTER_FAILED","REGISTER_REQUEST","REGISTER_SUCCESS","init","isAuth","token","localStorage","getItem","loading","userInfo","JSON","parse","errors","AutoReducer","state","Type","payload","setItem","stringify","user"],"sources":["C:/Users/afef/Desktop/projet/client/src/Reducer/AutoReducer.js"],"sourcesContent":["import { LOGIN_FAILED,LOGIN_REQUEST,LOGIN_SUCCESS,REGISTER_FAILED, REGISTER_REQUEST,REGISTER_SUCCESS} from \"../Actions/Types\";\r\nconst init={\r\n    isAuth:false,\r\n    token:localStorage.getItem('token') || null,\r\n    loading:false,\r\n    userInfo:JSON.parse(localStorage.getItem('userInfo')) || {},\r\n    errors:null,\r\n}\r\nconst  AutoReducer=(state=init,{Type,payload})=>{\r\n    switch (Type) {\r\n\r\ncase LOGIN_REQUEST:return {...state,loading:true}\r\ncase LOGIN_SUCCESS:\r\n    localStorage.setItem('token,payload.token')\r\n    localStorage.setItem('userInfo',JSON.stringify(payload.user))\r\n    return {...state,loading:false,isAuth:true,token:payload.token,errors:null}\r\ncase LOGIN_FAILED:return {...state,loading:false,isAuth:false,token:null.token,errors:payload}\r\n\r\ncase REGISTER_REQUEST:return {...state,loading:true}\r\ncase REGISTER_SUCCESS:return {...state,loading:false,isAuth:false,token:payload.token,errors:null,userInfo:payload.user}\r\ncase REGISTER_FAILED:return {...state,loading:false,isAuth:false,token:null.token,errors:payload}\r\n        default:return state\r\n\r\n    }\r\n}\r\nexport default AutoReducer"],"mappings":"AAAA,SAASA,YAAY,EAACC,aAAa,EAACC,aAAa,EAACC,eAAe,EAAEC,gBAAgB,EAACC,gBAAgB,QAAO,kBAAkB;AAC7H,MAAMC,IAAI,GAAC;EACPC,MAAM,EAAC,KAAK;EACZC,KAAK,EAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,IAAI;EAC3CC,OAAO,EAAC,KAAK;EACbC,QAAQ,EAACC,IAAI,CAACC,KAAK,CAACL,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC;EAC3DK,MAAM,EAAC;AACX,CAAC;AACD,MAAOC,WAAW,GAAC,YAA6B;EAAA,IAA5BC,KAAK,uEAACX,IAAI;EAAA,IAAC;IAACY,IAAI;IAACC;EAAO,CAAC;EACzC,QAAQD,IAAI;IAEhB,KAAKjB,aAAa;MAAC,OAAO;QAAC,GAAGgB,KAAK;QAACN,OAAO,EAAC;MAAI,CAAC;IACjD,KAAKT,aAAa;MACdO,YAAY,CAACW,OAAO,CAAC,qBAAqB,CAAC;MAC3CX,YAAY,CAACW,OAAO,CAAC,UAAU,EAACP,IAAI,CAACQ,SAAS,CAACF,OAAO,CAACG,IAAI,CAAC,CAAC;MAC7D,OAAO;QAAC,GAAGL,KAAK;QAACN,OAAO,EAAC,KAAK;QAACJ,MAAM,EAAC,IAAI;QAACC,KAAK,EAACW,OAAO,CAACX,KAAK;QAACO,MAAM,EAAC;MAAI,CAAC;IAC/E,KAAKf,YAAY;MAAC,OAAO;QAAC,GAAGiB,KAAK;QAACN,OAAO,EAAC,KAAK;QAACJ,MAAM,EAAC,KAAK;QAACC,KAAK,EAAC,IAAI,CAACA,KAAK;QAACO,MAAM,EAACI;MAAO,CAAC;IAE9F,KAAKf,gBAAgB;MAAC,OAAO;QAAC,GAAGa,KAAK;QAACN,OAAO,EAAC;MAAI,CAAC;IACpD,KAAKN,gBAAgB;MAAC,OAAO;QAAC,GAAGY,KAAK;QAACN,OAAO,EAAC,KAAK;QAACJ,MAAM,EAAC,KAAK;QAACC,KAAK,EAACW,OAAO,CAACX,KAAK;QAACO,MAAM,EAAC,IAAI;QAACH,QAAQ,EAACO,OAAO,CAACG;MAAI,CAAC;IACxH,KAAKnB,eAAe;MAAC,OAAO;QAAC,GAAGc,KAAK;QAACN,OAAO,EAAC,KAAK;QAACJ,MAAM,EAAC,KAAK;QAACC,KAAK,EAAC,IAAI,CAACA,KAAK;QAACO,MAAM,EAACI;MAAO,CAAC;IACzF;MAAQ,OAAOF,KAAK;EAAA;AAG5B,CAAC;AAAA,KAhBMD,WAAW;AAiBlB,eAAeA,WAAW;AAAA;AAAA"},"metadata":{},"sourceType":"module"}